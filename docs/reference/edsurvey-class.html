<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>EdSurvey Class Constructors and Helpers — edsurvey.data.frame • EdSurvey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="EdSurvey Class Constructors and Helpers — edsurvey.data.frame"><meta name="description" content="Two new classes in EdSurvey are described in this section: the edsurvey.data.frame
             and light.edsurvey.data.frame. The edsurvey.data.frame
             class stores metadata about survey data, and data are stored on the
             disk (via the LaF package), allowing gigabytes of data to be used easily on a machine otherwise
             inappropriate for manipulating large datasets.
             The light.edsurvey.data.frame is typically generated
             by the getData function and stores the data in a
             data.frame.
             Both classes use attributes to manage metadata and allow
             for correct statistics to be used in calculating results; the
             getAttributes acts as an accessor for these attributes, whereas
             setAttributes acts as a mutator for the attributes.
             As a convenience, edsurvey.data.frame
             implements the $ function to extract a variable."><meta property="og:description" content="Two new classes in EdSurvey are described in this section: the edsurvey.data.frame
             and light.edsurvey.data.frame. The edsurvey.data.frame
             class stores metadata about survey data, and data are stored on the
             disk (via the LaF package), allowing gigabytes of data to be used easily on a machine otherwise
             inappropriate for manipulating large datasets.
             The light.edsurvey.data.frame is typically generated
             by the getData function and stores the data in a
             data.frame.
             Both classes use attributes to manage metadata and allow
             for correct statistics to be used in calculating results; the
             getAttributes acts as an accessor for these attributes, whereas
             setAttributes acts as a mutator for the attributes.
             As a convenience, edsurvey.data.frame
             implements the $ function to extract a variable."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EdSurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction to Analyzing NCES Data Using EdSurvey</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/American-Institutes-for-Research/EdSurvey/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>EdSurvey Class Constructors and Helpers</h1>
      <small class="dont-index">Source: <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/edsurvey.data.frame.R" class="external-link"><code>R/edsurvey.data.frame.R</code></a>, <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/getAttributes.R" class="external-link"><code>R/getAttributes.R</code></a>, <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/setAttributes.R" class="external-link"><code>R/setAttributes.R</code></a>, and 1 more</small>
      <div class="d-none name"><code>edsurvey-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Two new classes in <code>EdSurvey</code> are described in this section: the <code>edsurvey.data.frame</code>
             and <code>light.edsurvey.data.frame</code>. The <code>edsurvey.data.frame</code>
             class stores metadata about survey data, and data are stored on the
             disk (via the <code>LaF</code> package), allowing gigabytes of data to be used easily on a machine otherwise
             inappropriate for manipulating large datasets.
             The <code>light.edsurvey.data.frame</code> is typically generated
             by the <code>getData</code> function and stores the data in a
             <code>data.frame</code>.
             Both classes use attributes to manage metadata and allow
             for correct statistics to be used in calculating results; the
             <code>getAttributes</code> acts as an accessor for these attributes, whereas
             <code>setAttributes</code> acts as a mutator for the attributes.
             As a convenience, <code>edsurvey.data.frame</code>
             implements the <code>$</code> function to extract a variable.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">edsurvey.data.frame</span><span class="op">(</span></span>
<span>  <span class="va">userConditions</span>,</span>
<span>  <span class="va">defaultConditions</span>,</span>
<span>  dataList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  <span class="va">pvvars</span>,</span>
<span>  <span class="va">subject</span>,</span>
<span>  <span class="va">year</span>,</span>
<span>  <span class="va">assessmentCode</span>,</span>
<span>  <span class="va">dataType</span>,</span>
<span>  <span class="va">gradeLevel</span>,</span>
<span>  <span class="va">achievementLevels</span>,</span>
<span>  <span class="va">omittedLevels</span>,</span>
<span>  <span class="va">survey</span>,</span>
<span>  <span class="va">country</span>,</span>
<span>  <span class="va">psuVar</span>,</span>
<span>  <span class="va">stratumVar</span>,</span>
<span>  <span class="va">jkSumMultiplier</span>,</span>
<span>  recodes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  validateFactorLabels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  forceLower <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  reqDecimalConversion <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fr2Path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dim0 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cacheDataLevelName <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'edsurvey.data.frame'</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">i</span></span>
<span></span>
<span><span class="co"># S3 method for class 'edsurvey.data.frame'</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S4 method for class 'edsurvey.data.frame,ANY'</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">table</span></span>
<span></span>
<span><span class="co"># S4 method for class 'edsurvey.data.frame.list,ANY'</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">table</span></span>
<span></span>
<span><span class="fu">getAttributes</span><span class="op">(</span><span class="va">data</span>, attribute <span class="op">=</span> <span class="cn">NULL</span>, errorCheck <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">setAttributes</span><span class="op">(</span><span class="va">data</span>, <span class="va">attribute</span>, <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">getPSUVar</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  weightVar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="fu">getAttributes</span><span class="op">(</span><span class="va">data</span>, <span class="st">"weights"</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="st">"default"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">getStratumVar</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  weightVar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="fu">getAttributes</span><span class="op">(</span><span class="va">data</span>, <span class="st">"weights"</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="st">"default"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-userconditions">userConditions<a class="anchor" aria-label="anchor" href="#arg-userconditions"></a></dt>
<dd><p>a list of user conditions that includes subsetting or recoding conditions</p></dd>


<dt id="arg-defaultconditions">defaultConditions<a class="anchor" aria-label="anchor" href="#arg-defaultconditions"></a></dt>
<dd><p>a list of default conditions that often are set for each survey</p></dd>


<dt id="arg-datalist">dataList<a class="anchor" aria-label="anchor" href="#arg-datalist"></a></dt>
<dd><p>a list of <code>dataListItem</code> objects to model the data structure of the survey</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>a list that stores information regarding weight variables. See Details.</p></dd>


<dt id="arg-pvvars">pvvars<a class="anchor" aria-label="anchor" href="#arg-pvvars"></a></dt>
<dd><p>a list that stores information regarding plausible values. See Details.</p></dd>


<dt id="arg-subject">subject<a class="anchor" aria-label="anchor" href="#arg-subject"></a></dt>
<dd><p>a character that indicates the subject domain of the given data</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>a character or numeric that indicates the year of the given data</p></dd>


<dt id="arg-assessmentcode">assessmentCode<a class="anchor" aria-label="anchor" href="#arg-assessmentcode"></a></dt>
<dd><p>a character that indicates the code of the assessment.
Can be <code>National</code> or <code>International</code>.</p></dd>


<dt id="arg-datatype">dataType<a class="anchor" aria-label="anchor" href="#arg-datatype"></a></dt>
<dd><p>a character that indicates the unit level of the main data.
Examples include <code>Student</code>, <code>teacher</code>, <code>school</code>,
<code>Adult Data</code>.</p></dd>


<dt id="arg-gradelevel">gradeLevel<a class="anchor" aria-label="anchor" href="#arg-gradelevel"></a></dt>
<dd><p>a character that indicates the grade level of the given data</p></dd>


<dt id="arg-achievementlevels">achievementLevels<a class="anchor" aria-label="anchor" href="#arg-achievementlevels"></a></dt>
<dd><p>a list of achievement-level categories and cutpoints</p></dd>


<dt id="arg-omittedlevels">omittedLevels<a class="anchor" aria-label="anchor" href="#arg-omittedlevels"></a></dt>
<dd><p>a list of default omitted levels for the given data</p></dd>


<dt id="arg-survey">survey<a class="anchor" aria-label="anchor" href="#arg-survey"></a></dt>
<dd><p>a character that indicates the name of the survey</p></dd>


<dt id="arg-country">country<a class="anchor" aria-label="anchor" href="#arg-country"></a></dt>
<dd><p>a character that indicates the country of the given data</p></dd>


<dt id="arg-psuvar">psuVar<a class="anchor" aria-label="anchor" href="#arg-psuvar"></a></dt>
<dd><p>a character that indicates the PSU sampling unit variable. Ignored when weights have <code>psuVar</code> defined.</p></dd>


<dt id="arg-stratumvar">stratumVar<a class="anchor" aria-label="anchor" href="#arg-stratumvar"></a></dt>
<dd><p>a character that indicates the stratum variable. Ignored when weights have <code>stratumVar</code> defined.</p></dd>


<dt id="arg-jksummultiplier">jkSumMultiplier<a class="anchor" aria-label="anchor" href="#arg-jksummultiplier"></a></dt>
<dd><p>a numeric value of the jackknife coefficient (used in calculating the jackknife replication estimation)</p></dd>


<dt id="arg-recodes">recodes<a class="anchor" aria-label="anchor" href="#arg-recodes"></a></dt>
<dd><p>a list of variable recodes of the given data</p></dd>


<dt id="arg-validatefactorlabels">validateFactorLabels<a class="anchor" aria-label="anchor" href="#arg-validatefactorlabels"></a></dt>
<dd><p>a Boolean that indicates whether the <code>getData</code> function needs to validate factor variables</p></dd>


<dt id="arg-forcelower">forceLower<a class="anchor" aria-label="anchor" href="#arg-forcelower"></a></dt>
<dd><p>a Boolean; when set to <code>TRUE</code>, will automatically lowercase variable names</p></dd>


<dt id="arg-reqdecimalconversion">reqDecimalConversion<a class="anchor" aria-label="anchor" href="#arg-reqdecimalconversion"></a></dt>
<dd><p>a Boolean; when set to <code>TRUE</code>, a <code>getData</code> call will multiply the raw file value by a decimal multiplier</p></dd>


<dt id="arg-fr-path">fr2Path<a class="anchor" aria-label="anchor" href="#arg-fr-path"></a></dt>
<dd><p>a character file location for NAEP assessments to identify the location of the codebook file in <code>fr2</code> format</p></dd>


<dt id="arg-dim-">dim0<a class="anchor" aria-label="anchor" href="#arg-dim-"></a></dt>
<dd><p>numeric vector of length two. To speed construction, the dimensions of the data can be provided</p></dd>


<dt id="arg-cachedatalevelname">cacheDataLevelName<a class="anchor" aria-label="anchor" href="#arg-cachedatalevelname"></a></dt>
<dd><p>a character value set to match the named element in the <code>dataList</code> to utilize the data caching scheme.  See details.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an <code>edsurvey.data.frame</code></p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>a character, the column name to extract</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>a character vector of the column to edit</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>outside of the assignment context, new value of the given <code>attribute</code></p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>an <code>edsurvey.data.frame</code> or <code>edsurvey.data.frame.list</code> where <code>x</code> is searched for</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>an <code>edsurvey.data.frame</code></p></dd>


<dt id="arg-attribute">attribute<a class="anchor" aria-label="anchor" href="#arg-attribute"></a></dt>
<dd><p>a character, name of an attribute to get or set</p></dd>


<dt id="arg-errorcheck">errorCheck<a class="anchor" aria-label="anchor" href="#arg-errorcheck"></a></dt>
<dd><p>logical; see Details</p></dd>


<dt id="arg-weightvar">weightVar<a class="anchor" aria-label="anchor" href="#arg-weightvar"></a></dt>
<dd><p>a character indicating the full sample weights. Required in <code>getPSUVar</code> and <code>getStratumVar</code> when there is no default weight.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>edsurvey.data.frame</code> with the following elements:</p>
<p><em>Elements that store data connections and data codebooks</em></p>
<dl><dt><code>dataList</code></dt>
<dd><p>a <code>list</code> object containing the surveys <code>dataListItem</code> objects</p></dd>

</dl><p><em>Elements that store sample design and default subsetting information of the given survey data</em></p>
<dl><dt><code>userConditions</code></dt>
<dd><p>a list containing all user conditions, set using the <code>subset.edsurvey.data.frame</code> method</p></dd>

   <dt><code>defaultConditions</code></dt>
<dd><p>the default subsample conditions</p></dd>

   <dt><code>weights</code></dt>
<dd><p>a list containing the weights. See Details.</p></dd>

   <dt><code>stratumVar</code></dt>
<dd><p>a character that indicates the default strata identification variable name in the data. Often used in Taylor series estimation.</p></dd>

   <dt><code>psuVar</code></dt>
<dd><p>a character that indicates the default PSU (sampling unit) identification variable name in the data. Often used in Taylor series estimation.</p></dd>

   <dt><code>pvvars</code></dt>
<dd><p>a list containing the plausible values. See Details.</p></dd>

   <dt><code>achievementLevels</code></dt>
<dd><p>default achievement cutoff scores and names. See Details.</p></dd>

   <dt><code>omittedLevels</code></dt>
<dd><p>the levels of the factor variables that will be omitted from the <code>edsurvey.data.frame</code></p></dd>

</dl><p><em>Elements that store descriptive information of the survey</em></p>
<dl><dt><code>survey</code></dt>
<dd><p>the type of survey data</p></dd>

   <dt><code>subject</code></dt>
<dd><p>the subject of the data</p></dd>

   <dt><code>year</code></dt>
<dd><p>the year of assessment</p></dd>

   <dt><code>assessmentCode</code></dt>
<dd><p>the assessment code</p></dd>

   <dt><code>dataType</code></dt>
<dd><p>the type of data (e.g., <code>student</code> or <code>school</code>)</p></dd>

   <dt><code>gradeLevel</code></dt>
<dd><p>the grade of the dataset contained in the <code>edsurvey.data.frame</code></p></dd>

</dl><p><em>Elements used in <code>mml.sdf</code></em></p>
<dl><dt><code>dichotParamTab</code></dt>
<dd><p>IRT item parameters for dichotomous items in a data frame</p></dd>

   <dt><code>polyParamTab</code></dt>
<dd><p>IRT item parameters for polytomous items in a data frame</p></dd>

   <dt><code>adjustedData</code></dt>
<dd><p>IRT item parameter adjustment information in a data frame</p></dd>

   <dt><code>testData</code></dt>
<dd><p>IRT transformation constants in a data frame</p></dd>

   <dt><code>scoreCard</code></dt>
<dd><p>item scoring information in a data frame</p></dd>

   <dt><code>scoreDict</code></dt>
<dd><p>generic scoring information in a data frame</p></dd>

   <dt><code>scoreFunction</code></dt>
<dd><p>a function that turns the variables with items in them into numeric scores</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>weight</code> list has an element named after each weight variable name
that is a list with elements <code>jkbase</code> and <code>jksuffixes</code>. The
<code>jkbase</code> variable is a single character indicating the jackknife replicate
weight base name, whereas <code>jksuffixes</code> is a vector with one element for each
jackknife replicate weight. When the two are pasted together, they should form
the complete set of the jackknife replicate weights. The <code>weights</code> argument
also can have an attribute that is the default weight. If the primary sampling
unit and stratum variables change by weight, they also can be defined on the weight
list as <code>psuVar</code> and <code>stratumVar</code>. When this option is used, it overrides
the <code>psuVar</code> and <code>stratumVar</code> on the <code>edsurvey.data.frame</code>,
which can be left blank. A weight must define only one of <code>psuVar</code>
and <code>stratumVar</code>.</p>
<p>The <code>pvvars</code> list has an element for each subject or subscale score
that has plausible values. Each element is a list with a <code>varnames</code>
element that indicates the column names of the plausible values and an
<code>achievementLevel</code> argument that is a named vector of the
achievement-level cutpoints.</p>
<p>An <code>edsurvey.data.frame</code> implements a unique data caching mechanism that allows users to create and merge data columns for flexibility.
This <code>cache</code> object is a single <code>data.frame</code> that is an element in the <code>edsurvey.data.frame</code>. To accommodate studies with complex data models
the cache can only support one data level at this time. The <code>cacheDataLevelName</code> parameter indicates which named element in the <code>dataList</code>
the cache is indicated. The default value <code>cacheDataLevelName = NULL</code> will set the first item in the <code>dataList</code> as the <code>cache</code> level for an <code>edsurvey.data.frame</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="edsurvey-classes">EdSurvey Classes<a class="anchor" aria-label="anchor" href="#edsurvey-classes"></a></h2>


<p><code>edsurvey.data.frame</code> is an object that stores connection to data on the
disk along with important survey sample design information.</p>
<p><code>edsurvey.data.frame.list</code> is a list of <code>edsurvey.data.frame</code>
objects. It often is used in trend or cross-regional analysis in the
<code><a href="gap.html">gap</a></code> function. See <code><a href="edsurvey.data.frame.list.html">edsurvey.data.frame.list</a></code> for
more information on how to create an <code>edsurvey.data.frame.list</code>. Users
also can refer to the vignette titled
<a href="https://www.air.org/sites/default/files/EdSurvey-Trend.pdf" class="external-link"><em>Using EdSurvey for Trend Analysis</em></a>
for examples.</p>
<p>Besides <code>edsurvey.data.frame</code> class, the <code>EdSurvey</code> package also
implements the <code>light.edsurvey.data.frame</code> class, which can be used by both
<code>EdSurvey</code> and non-<code>EdSurvey</code> functions. More particularly,
<code>light.edsurvey.data.frame</code> is a <code>data.frame</code> that has basic
survey and sample design information (i.e., plausible values and weights), which
will be used for variance estimation in analytical functions. Because it
also is a base R <code>data.frame</code>, users can apply base R functions for
data manipulation.
See the vignette titled
<a href="https://www.air.org/sites/default/files/EdSurvey-getData.pdf" class="external-link"><em>Using the <code>getData</code> Function in EdSurvey</em></a>
for more examples.</p>
<p>Many functions will remove attributes from a data frame, such as
a <code>light.edsurvey.data.frame</code>, and the
<code><a href="rebindAttributes.html">rebindAttributes</a></code> function can add them back.</p>
<p>Users can get a <code>light.edsurvey.data.frame</code> object by using the
<code><a href="getData.html">getData</a></code> method with <code>addAttributes=TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="basic-methods-for-edsurvey-classes">Basic Methods for EdSurvey Classes<a class="anchor" aria-label="anchor" href="#basic-methods-for-edsurvey-classes"></a></h2>


<p><em>Extracting a column from an <code>edsurvey.data.frame</code></em></p>
<p>Users can extract a column from an <code>edsurvey.data.frame</code> object using <code>$</code> or <code>[]</code> like a normal data frame.</p>
<p><em>Extracting and updating attributes of an object of class <code>edsurvey.data.frame</code> or <code>light.edsurvey.data.frame</code></em></p>
<p>Users can use the <code>getAttributes</code> method to extract any attribute of
an <code>edsurvey.data.frame</code> or a <code>light.edsurvey.data.frame</code>.
The <code>errorCheck</code> parameter has a default value of<code>TRUE</code>, which throws an error if an attribute is not found.
Setting <code>errorCheck = FALSE</code> will suppress error checking, and return <code>NULL</code> if an attribute can't be found.</p>
<p>A <code>light.edsurvey.data.frame</code> will not have attributes related to data connection
because data have already been read in memory.</p>
<p>If users want to update an attribute (i.e., <code>omittedLevels</code>), they can
use the <code>setAttributes</code> method.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="rebindAttributes.html">rebindAttributes</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tom Fink, Trang Nguyen, and Paul Bailey</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># read in the example data (generated, not real student data)</span></span></span>
<span class="r-in"><span><span class="va">sdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="readNAEP.html">readNAEP</a></span><span class="op">(</span>path<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/data"</span>, <span class="st">"M36NT2PM.dat"</span>, package<span class="op">=</span><span class="st">"NAEPprimer"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run a base R function on a column of edsurvey.data.frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sdf</span><span class="op">$</span><span class="va">dsex</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># assignment</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sdf</span><span class="op">$</span><span class="va">b013801</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdf</span><span class="op">$</span><span class="va">books</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">sdf</span><span class="op">$</span><span class="va">b013801</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0-10"</span>, <span class="st">"11-25"</span><span class="op">)</span>, <span class="st">"0-25 books"</span>, <span class="st">"26+ books"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sdf</span><span class="op">$</span><span class="va">books</span>, <span class="va">sdf</span><span class="op">$</span><span class="va">b013801</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract default omitted levels of NAEP primer data</span></span></span>
<span class="r-in"><span><span class="fu">getAttributes</span><span class="op">(</span>data<span class="op">=</span><span class="va">sdf</span>, attribute<span class="op">=</span><span class="st">"omittedLevels"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#[1] "Multiple" NA         "Omitted"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># update default omitted levels of NAEP primer data</span></span></span>
<span class="r-in"><span><span class="va">sdf</span> <span class="op">&lt;-</span> <span class="fu">setAttributes</span><span class="op">(</span>data<span class="op">=</span><span class="va">sdf</span>,</span></span>
<span class="r-in"><span>                   attribute<span class="op">=</span><span class="st">"omittedLevels"</span>,</span></span>
<span class="r-in"><span>                   value<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Multiple"</span>, <span class="st">"Omitted"</span>, <span class="cn">NA</span>, <span class="st">"(Missing)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">getAttributes</span><span class="op">(</span>data<span class="op">=</span><span class="va">sdf</span>, attribute<span class="op">=</span><span class="st">"omittedLevels"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#[1] "Multiple"  "Omitted"   NA          "(Missing)"</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Bailey, Ahmad Emad, Huade Huo, Michael Lee, Yuqi Liao, Alex Lishinski, Trang Nguyen, Qingshu Xie, Jiao Yu, Ting Zhang, Eric Buehler, Sun-joo Lee, Blue Webb, Thomas Fink, Sinan Yavuz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

