<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Connect to PISA Data — readPISA • EdSurvey</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Connect to PISA Data — readPISA"><meta property="og:description" content="Opens a connection to a PISA data file and
             returns an edsurvey.data.frame with
             information about the file and data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EdSurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.7.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to Analyzing NCES Data Using EdSurvey</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/American-Institutes-for-Research/EdSurvey/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Connect to PISA Data</h1>
    <small class="dont-index">Source: <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/readPISA.R" class="external-link"><code>R/readPISA.R</code></a></small>
    <div class="hidden name"><code>readPISA.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Opens a connection to a PISA data file and
             returns an <code>edsurvey.data.frame</code> with
             information about the file and data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">readPISA</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  database <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"INT"</span>, <span class="st">"CBA"</span>, <span class="st">"FIN"</span><span class="op">)</span>,</span>
<span>  <span class="va">countries</span>,</span>
<span>  cognitive <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"score"</span>, <span class="st">"response"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  forceReread <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>path</dt>
<dd><p>a character vector to the full directory path(s) to the
PISA-extracted fixed-width files and SPSS control files (.txt).</p></dd>


<dt>database</dt>
<dd><p>a character to indicate a selected database. Must be one of
<code>INT</code> (general database that most people use),
<code>CBA</code> (computer-based database in PISA 2012 only),
or <code>FIN</code> (financial literacy database in PISA 2012 and 2018).
Defaults to <code>INT</code>.</p></dd>


<dt>countries</dt>
<dd><p>a character vector of the country/countries to include using the
three-digit ISO country code. A list of country codes can be found
in the PISA codebook or <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="external-link">https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes</a>.
If files are downloaded using <code><a href="downloadPISA.html">downloadPISA</a></code>,
a country dictionary text file can be
found in the filepath.</p></dd>


<dt>cognitive</dt>
<dd><p>one of <code>none</code>, <code>score</code>, or <code>response</code>. Default
is <code>score</code>. The PISA database often has three student
files: student questionnaire, cognitive item
response, and scored cognitive item response. The first
file is used as the main student file with student
background information. Users can choose whether to
merge <code>score</code> or
<code>response</code> data into the main file or not (if <code>none</code>).</p></dd>


<dt>forceReread</dt>
<dd><p>a logical value to force rereading of all processed data.
Defaults to <code>FALSE</code>. Setting <code>forceReread</code>
to be <code>TRUE</code> will cause PISA data to be reread and
increase processing time.</p></dd>


<dt>verbose</dt>
<dd><p>a logical value that will determine if you want verbose
output while the function is running to indicate progress.
Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>an <code>edsurvey.data.frame</code> for a single specified country or
 an <code>edsurvey.data.frame.list</code> if multiple countries are specified</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Reads in the unzipped files downloaded from the PISA database using the
OECD Repository (<a href="https://www.oecd.org/pisa/" class="external-link">https://www.oecd.org/pisa/</a>). Users can use
<code><a href="downloadPISA.html">downloadPISA</a></code> to download all required files.
Student questionnaire files (with weights and plausible values) are used as
main files, which are then
merged with cognitive, school, and parent files (if available).</p>
<p>The average first-time processing time for 1 year and one database for all
countries is 10--15 minutes. If <code>forceReread</code> is set
to be <code>FALSE</code>, the next time this function is called will take only
5--10 seconds.</p>
<p>For the PISA 2000 study, please note that the study weights are subject
specific. Each weight has different adjustment factors for reading, mathematics, and science
based on it's original subject source file.  For example, the <code>w_fstuwt_read</code> weight is associated with the reading
subject data file.  Special care must be used to select the correct weight based on your specific analysis.  See the OECD
documentation for further details.  Use the <code>showWeights</code> function to see all three student level subject weights:</p><ul><li><p><strong>w_fstuwt_read</strong> = Reading (default)</p></li>
<li><p><strong>w_fstuwt_scie</strong> = Science</p></li>
<li><p><strong>w_fstuwt_math</strong> = Mathematics</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Organisation for Economic Co-operation and Development. (2017). <em>PISA 2015 technical report</em>. Paris, France: OECD Publishing. Retrieved from <em><a href="https://www.oecd.org/pisa/data/2015-technical-report/" class="external-link">https://www.oecd.org/pisa/data/2015-technical-report/</a></em></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="getData.html">getData</a></code> and <code><a href="downloadPISA.html">downloadPISA</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Tom Fink, Trang Nguyen, and Paul Bailey</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># the following call returns an edsurvey.data.frame to </span></span></span>
<span class="r-in"><span><span class="co"># PISA 2012 International Database for Singapore</span></span></span>
<span class="r-in"><span><span class="va">sgp2012</span> <span class="op">&lt;-</span> <span class="fu">readPISA</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~/PISA/2012"</span>, database <span class="op">=</span> <span class="st">"INT"</span>, countries <span class="op">=</span> <span class="st">"sgp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract a data.frame with a few variables</span></span></span>
<span class="r-in"><span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="getData.html">getData</a></span><span class="op">(</span><span class="va">sgp2012</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cnt"</span>,<span class="st">"read"</span>,<span class="st">"w_fstuwt"</span><span class="op">)</span><span class="op">)</span>  </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">gg</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># conduct an analysis on the edsurvey.data.frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="edsurveyTable.html">edsurveyTable</a></span><span class="op">(</span><span class="va">read</span> <span class="op">~</span> <span class="va">st04q01</span> <span class="op">+</span> <span class="va">st20q01</span>, data <span class="op">=</span> <span class="va">sgp2012</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Bailey.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

