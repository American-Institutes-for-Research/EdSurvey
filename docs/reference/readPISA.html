<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Connect to PISA Data — readPISA • EdSurvey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Connect to PISA Data — readPISA"><meta name="description" content="Opens a connection to a PISA data file and
             returns an edsurvey.data.frame with
             information about the file and data."><meta property="og:description" content="Opens a connection to a PISA data file and
             returns an edsurvey.data.frame with
             information about the file and data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EdSurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">Introduction to Analyzing NCES Data Using EdSurvey</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/American-Institutes-for-Research/EdSurvey/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Connect to PISA Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/readPISA.R" class="external-link"><code>R/readPISA.R</code></a></small>
      <div class="d-none name"><code>readPISA.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Opens a connection to a PISA data file and
             returns an <code>edsurvey.data.frame</code> with
             information about the file and data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">readPISA</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  database <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"INT"</span>, <span class="st">"CBA"</span>, <span class="st">"FIN"</span><span class="op">)</span>,</span>
<span>  <span class="va">countries</span>,</span>
<span>  cognitive <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"score"</span>, <span class="st">"response"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  forceReread <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>a character vector to the full directory path(s) to the
PISA-extracted fixed-width files and SPSS control files (.txt).</p></dd>


<dt id="arg-database">database<a class="anchor" aria-label="anchor" href="#arg-database"></a></dt>
<dd><p>a character to indicate a selected database. Must be one of
<code>INT</code> (general database that most people use),
<code>CBA</code> (computer-based database in PISA 2012 only),
or <code>FIN</code> (financial literacy database in PISA 2012, 2018, and 2022. Note that `INT` needs to be used for PISA 2015 financial literacy data as it could be merged to the general database).
Defaults to <code>INT</code>.</p></dd>


<dt id="arg-countries">countries<a class="anchor" aria-label="anchor" href="#arg-countries"></a></dt>
<dd><p>a character vector of the country/countries to include using the
three-digit ISO country code. A list of country codes can be found
in the PISA codebook or <a href="https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes" class="external-link">https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes</a>.
If files are downloaded using <code><a href="downloadPISA.html">downloadPISA</a></code>,
a country dictionary text file can be
found in the filepath.</p></dd>


<dt id="arg-cognitive">cognitive<a class="anchor" aria-label="anchor" href="#arg-cognitive"></a></dt>
<dd><p>one of <code>none</code>, <code>score</code>, or <code>response</code>. Default
is <code>score</code>. The PISA database often has three student
files: student questionnaire, cognitive item
response, and scored cognitive item response. The first
file is used as the main student file with student
background information. Users can choose whether to
merge <code>score</code> or
<code>response</code> data into the main file or not (if <code>none</code>).</p></dd>


<dt id="arg-forcereread">forceReread<a class="anchor" aria-label="anchor" href="#arg-forcereread"></a></dt>
<dd><p>a logical value to force rereading of all processed data.
Defaults to <code>FALSE</code>. Setting <code>forceReread</code>
to be <code>TRUE</code> will cause PISA data to be reread and
increase processing time.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>a logical value that will determine if you want verbose
output while the function is running to indicate progress.
Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an <code>edsurvey.data.frame</code> for a single specified country or
 an <code>edsurvey.data.frame.list</code> if multiple countries are specified</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Reads in the unzipped files downloaded from the PISA database using the
OECD Repository (<a href="https://www.oecd.org/pisa.html" class="external-link">https://www.oecd.org/pisa.html</a>). Users can use
<code><a href="downloadPISA.html">downloadPISA</a></code> to download all required files.
Student questionnaire files (with weights and plausible values) are used as
main files, which are then
merged with cognitive, school, and parent files (if available).</p>
<p>The average first-time processing time for 1 year and one database for all
countries is 10–15 minutes. If <code>forceReread</code> is set
to be <code>FALSE</code>, the next time this function is called will take only
5–10 seconds.</p>
<p>For the PISA 2000 study, please note that the study weights are subject
specific. Each weight has different adjustment factors for reading, mathematics, and science
based on it's original subject source file.  For example, the <code>w_fstuwt_read</code> weight is associated with the reading
subject data file.  Special care must be used to select the correct weight based on your specific analysis.  See the OECD
documentation for further details.  Use the <code>showWeights</code> function to see all three student level subject weights:</p><ul><li><p><strong>w_fstuwt_read</strong> = Reading (default)</p></li>
<li><p><strong>w_fstuwt_scie</strong> = Science</p></li>
<li><p><strong>w_fstuwt_math</strong> = Mathematics</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Organisation for Economic Co-operation and Development. (2017). <em>PISA 2015 technical report</em>. Paris, France: OECD Publishing. Retrieved from <em><a href="https://www.oecd.org/pisa/data/2015-technical-report.html" class="external-link"> https://www.oecd.org/pisa/data/2015-technical-report.html</a></em></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="getData.html">getData</a></code> and <code><a href="downloadPISA.html">downloadPISA</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tom Fink, Trang Nguyen, Paul Bailey, and Yuqi Liao</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># the following call returns an edsurvey.data.frame to </span></span></span>
<span class="r-in"><span><span class="co"># PISA 2012 International Database for Singapore</span></span></span>
<span class="r-in"><span><span class="va">sgp2012</span> <span class="op">&lt;-</span> <span class="fu">readPISA</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"~/PISA/2012"</span>, database <span class="op">=</span> <span class="st">"INT"</span>, countries <span class="op">=</span> <span class="st">"sgp"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># extract a data.frame with a few variables</span></span></span>
<span class="r-in"><span><span class="va">gg</span> <span class="op">&lt;-</span> <span class="fu"><a href="getData.html">getData</a></span><span class="op">(</span><span class="va">sgp2012</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cnt"</span>,<span class="st">"read"</span>,<span class="st">"w_fstuwt"</span><span class="op">)</span><span class="op">)</span>  </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">gg</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># conduct an analysis on the edsurvey.data.frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="edsurveyTable.html">edsurveyTable</a></span><span class="op">(</span>formula<span class="op">=</span><span class="va">read</span> <span class="op">~</span> <span class="va">st04q01</span> <span class="op">+</span> <span class="va">st20q01</span>, data <span class="op">=</span> <span class="va">sgp2012</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul Bailey, Ahmad Emad, Huade Huo, Michael Lee, Yuqi Liao, Alex Lishinski, Trang Nguyen, Qingshu Xie, Jiao Yu, Ting Zhang, Eric Buehler, Sun-joo Lee, Blue Webb, Thomas Fink, Sinan Yavuz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

