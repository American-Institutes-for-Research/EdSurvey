<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>EdSurvey Dataset Vectorization — edsurvey.data.frame.list • EdSurvey</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="EdSurvey Dataset Vectorization — edsurvey.data.frame.list" />
<meta property="og:description" content="The edsurvey.data.frame.list function creates an
             edsurvey.data.frame.list object from a series of
             edsurvey.data.frame objects.
             append.edsurvey.data.frame.list creates an
             edsurvey.data.frame.list from two
             edsurvey.data.frame or edsurvey.data.frame.list objects.
An edsurvey.data.frame.list is useful for looking at
             data, for example, across time or graphically, and reduces
             repetition in function calls.
             The user may specify a variable that varies across the
             edsurvey.data.frame objects that is 
             then included in further output." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EdSurvey</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction to Analyzing NCES Data Using EdSurvey</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>EdSurvey Dataset Vectorization</h1>
    
    <div class="hidden name"><code>edsurvey.data.frame.list.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>edsurvey.data.frame.list</code> function creates an
             <code>edsurvey.data.frame.list</code> object from a series of
             <code>edsurvey.data.frame</code> objects.
             <code>append.edsurvey.data.frame.list</code> creates an
             <code>edsurvey.data.frame.list</code> from two
             <code>edsurvey.data.frame</code> or <code>edsurvey.data.frame.list</code> objects.</p>
<p>An <code>edsurvey.data.frame.list</code> is useful for looking at
             data, for example, across time or graphically, and reduces
             repetition in function calls.
             The user may specify a variable that varies across the
             <code>edsurvey.data.frame</code> objects that is 
             then included in further output.</p>
    </div>

    <pre class="usage"><span class='fu'>edsurvey.data.frame.list</span><span class='op'>(</span><span class='va'>datalist</span>, cov <span class='op'>=</span> <span class='cn'>NULL</span>, labels <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>

<span class='fu'>append.edsurvey.data.frame.list</span><span class='op'>(</span><span class='va'>sdfA</span>, <span class='va'>sdfB</span>, labelsA <span class='op'>=</span> <span class='cn'>NULL</span>, labelsB <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>datalist</th>
      <td><p>a list of <code>edsurvey.data.frame</code>s to be combined</p></td>
    </tr>
    <tr>
      <th>cov</th>
      <td><p>a character vector that indicates what varies across
the <code>edsurvey.data.frame</code> objects.
Guessed if not supplied. For example,
if several <code>edsurvey.data.frame</code>s for several
different countries are supplied, then <code>cov</code> would
be set to the country.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>a character vector that specifies labels. Must be the
same length
as <code>datalist</code>. Not needed if <code>cov</code> exists or can be
guessed. See Examples.</p></td>
    </tr>
    <tr>
      <th>sdfA</th>
      <td><p>an <code>edsurvey.data.frame</code> or an <code>edsurvey.data.frame.list</code> to be combined</p></td>
    </tr>
    <tr>
      <th>sdfB</th>
      <td><p>an <code>edsurvey.data.frame</code> or an <code>edsurvey.data.frame.list</code> to be combined</p></td>
    </tr>
    <tr>
      <th>labelsA</th>
      <td><p>a character vector that specifies <code>labels</code> for <code>sdfA</code> when creating 
the new <code>edsurvey.data.frame.list</code>. <code>labelsA</code> would be ignored
if <code>sdfA</code> is an <code>edsurvey.data.frame.list</code> with labels supplied.</p></td>
    </tr>
    <tr>
      <th>labelsB</th>
      <td><p>a character vector that specifies <code>labels</code> for <code>sdfB</code> when creating 
the new <code>edsurvey.data.frame.list</code>. <code>labelsB</code> would be ignored
if <code>sdfB</code> is an <code>edsurvey.data.frame.list</code> with labels supplied.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>edsurvey.data.frame.list</code> returns an <code>edsurvey.data.frame.list</code> with
elements</p>
<dt>datalist</dt><dd><p>a list of <code>edsurvey.data.frame</code> objects</p></dd>
<dt>covs</dt><dd><p>a character vector of key variables that vary within
                   the <code>edsurvey.data.frame.list</code>.
                   When labels are included, they will be included in
                   <code>covs</code>. In the unusual circumstance that <code>sdfA</code> or <code>sdfB</code>
                   is an <code>edsurvey.data.frame.list</code>
                   has <code>covs</code>, and labels are not supplied, the <code>covs</code>
                   are simply pasted together with colons between them.</p></dd>

append.edsurvey.data.frame.list returns an edsurvey.data.frame.list with
elements
<dt>datalist</dt><dd><p>a list of <code>edsurvey.data.frame</code> objects</p></dd>
<dt>covs</dt><dd><p>a character vector of key variables that vary within
                   the <code>edsurvey.data.frame.list</code>.
                   When labels are included, they will be included in
                   <code>covs</code>.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>edsurvey.data.frame.list</code> can be used in place of an
<code>edsurvey.data.frame</code> in function calls, and results are returned
for each of the component <code>edsurvey.data.frame</code>s, with the
organization of the results varying by the particular method.</p>
<p>An <code>edsurvey.data.frame.list</code> can be created from several
<code>edsurvey.data.frame</code> objects that are related;
for example, all are NAEP mathematics assessments but have one or more
differences (e.g.,  they are all from different years). 
Another example could be data from multiple countries for an
international assessment.</p>
<p>When <code>cov</code> and <code>labels</code> are both missing, <code>edsurvey.data.frame.list</code>
attempts to guess what variables may be varying and uses those. When there are no
varying covariates, generic labels are automatically generated.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Paul Bailey, Huade Huo</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># read in the example data (generated, not real student data)</span>
<span class='va'>sdf</span> <span class='op'>&lt;-</span> <span class='fu'><a href='readNAEP.html'>readNAEP</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata/data"</span>, <span class='st'>"M36NT2PM.dat"</span>, package<span class='op'>=</span><span class='st'>"NAEPprimer"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># NOTE: the following code would not normally have to be run but is used here</span>
<span class='co'># to generate demo data.</span>
<span class='co'># Specifically, make subsets of sdf by the scrpsu variable,</span>
<span class='co'># "Scrambled PSU and school code"</span>
<span class='va'>sdfA</span> <span class='op'>&lt;-</span> <span class='fu'><a href='subset.html'>subset</a></span><span class='op'>(</span><span class='va'>sdf</span>, <span class='va'>scrpsu</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>45</span>,<span class='fl'>56</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>sdfB</span> <span class='op'>&lt;-</span> <span class='fu'><a href='subset.html'>subset</a></span><span class='op'>(</span><span class='va'>sdf</span>, <span class='va'>scrpsu</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>75</span>,<span class='fl'>76</span>,<span class='fl'>78</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>sdfC</span> <span class='op'>&lt;-</span> <span class='fu'><a href='subset.html'>subset</a></span><span class='op'>(</span><span class='va'>sdf</span>, <span class='va'>scrpsu</span> <span class='op'>%in%</span> <span class='fl'>100</span><span class='op'>:</span><span class='fl'>200</span><span class='op'>)</span>
<span class='va'>sdfD</span> <span class='op'>&lt;-</span> <span class='fu'><a href='subset.html'>subset</a></span><span class='op'>(</span><span class='va'>sdf</span>, <span class='va'>scrpsu</span> <span class='op'>%in%</span> <span class='fl'>201</span><span class='op'>:</span><span class='fl'>300</span><span class='op'>)</span>

<span class='co'># construct an edsurvey.data.frame.list from these four data sets</span>
<span class='va'>sdfl</span> <span class='op'>&lt;-</span> <span class='fu'>edsurvey.data.frame.list</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>sdfA</span>, <span class='va'>sdfB</span>, <span class='va'>sdfC</span>, <span class='va'>sdfD</span><span class='op'>)</span>,
                                 labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A locations"</span>,
                                          <span class='st'>"B locations"</span>,
                                          <span class='st'>"C locations"</span>,
                                          <span class='st'>"D locations"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># alternative method of building</span>
<span class='va'>sdfl2</span> <span class='op'>&lt;-</span> <span class='va'>sdfA</span> <span class='op'>+</span> <span class='va'>sdfB</span> <span class='op'>+</span> <span class='va'>sdfC</span>

<span class='co'># check contents</span>
<span class='va'>sdfA</span> <span class='op'>%in%</span> <span class='va'>sdfl</span>
<span class='co'># note %in% checks by survey (NAEP 2005 Math for sdf,</span>
<span class='co'># sdfA, sdfB, sdfC, and sdfD) not by subset, so this also return TRUE</span>
<span class='va'>sdfD</span> <span class='op'>%in%</span> <span class='va'>sdfl2</span>

<span class='co'># this shows how these datasets will be described</span>
<span class='va'>sdfl</span><span class='op'>$</span><span class='va'>covs</span> 
<span class='co'># get the gaps between Male and Female for each data set</span>
<span class='va'>gap1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='gap.html'>gap</a></span><span class='op'>(</span><span class='st'>"composite"</span>, <span class='va'>sdfl</span>, <span class='va'>dsex</span><span class='op'>==</span><span class='st'>"Male"</span>, <span class='va'>dsex</span><span class='op'>==</span><span class='st'>"Female"</span><span class='op'>)</span>
<span class='va'>gap1</span>

<span class='co'># make combine sdfA and sdfB</span>
<span class='va'>sdfl1a</span> <span class='op'>&lt;-</span> <span class='fu'>edsurvey.data.frame.list</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>sdfA</span>, <span class='va'>sdfB</span><span class='op'>)</span>,
                                   labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"A locations"</span>,
                                            <span class='st'>"B locations"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># combine sdfC and sdfD</span>
<span class='va'>sdfl1b</span> <span class='op'>&lt;-</span> <span class='fu'>edsurvey.data.frame.list</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>sdfC</span>, <span class='va'>sdfD</span><span class='op'>)</span>,
                                   labels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"C locations"</span>,
                                            <span class='st'>"D locations"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># append to make sdf3 the same as sdfl</span>
<span class='va'>sdfl3</span> <span class='op'>&lt;-</span> <span class='fu'>append.edsurvey.data.frame.list</span><span class='op'>(</span><span class='va'>sdfl1a</span>, <span class='va'>sdfl1b</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='va'>sdfl</span>, <span class='va'>sdfl3</span><span class='op'>)</span> <span class='co'>#TRUE</span>

<span class='co'># append to make sdf4 the same as sdfl</span>
<span class='va'>sdfl4</span> <span class='op'>&lt;-</span> <span class='fu'>append.edsurvey.data.frame.list</span><span class='op'>(</span>
  <span class='fu'>append.edsurvey.data.frame.list</span><span class='op'>(</span><span class='va'>sdfl1a</span>, <span class='va'>sdfC</span>, labelsB <span class='op'>=</span> <span class='st'>"C locations"</span><span class='op'>)</span>,
  <span class='va'>sdfD</span>,
  labelsB <span class='op'>=</span> <span class='st'>"D locations"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='va'>sdfl</span>, <span class='va'>sdfl4</span><span class='op'>)</span> <span class='co'>#TRUE</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Paul Bailey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


