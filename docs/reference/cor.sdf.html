<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Computes the correlation of two variables on an edsurvey.data.frame,
             a light.edsurvey.data.frame, or an edsurvey.data.frame.list.
             The correlation accounts for plausible values and the survey design."><title>Bivariate Correlation — cor.sdf • EdSurvey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Bivariate Correlation — cor.sdf"><meta property="og:description" content="Computes the correlation of two variables on an edsurvey.data.frame,
             a light.edsurvey.data.frame, or an edsurvey.data.frame.list.
             The correlation accounts for plausible values and the survey design."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">EdSurvey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.0.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction to Analyzing NCES Data Using EdSurvey</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/American-Institutes-for-Research/EdSurvey/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Bivariate Correlation</h1>
      <small class="dont-index">Source: <a href="https://github.com/American-Institutes-for-Research/EdSurvey/blob/HEAD/R/cor.sdf.R" class="external-link"><code>R/cor.sdf.R</code></a></small>
      <div class="d-none name"><code>cor.sdf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the correlation of two variables on an <code>edsurvey.data.frame</code>,
             a <code>light.edsurvey.data.frame</code>, or an <code>edsurvey.data.frame.list</code>.
             The correlation accounts for plausible values and the survey design.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cor.sdf</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Pearson"</span>, <span class="st">"Spearman"</span>, <span class="st">"Polychoric"</span>, <span class="st">"Polyserial"</span><span class="op">)</span>,</span>
<span>  weightVar <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  reorder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dropOmittedLevels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  defaultConditions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  recode <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  condenseLevels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fisherZ <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/match.arg.html" class="external-link">match.arg</a></span><span class="op">(</span><span class="va">method</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Pearson"</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="cn">TRUE</span></span>
<span> <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>     <span class="cn">FALSE</span></span>
<span> <span class="op">}</span>,</span>
<span>  jrrIMax <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  omittedLevels <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>a character variable name from the <code>data</code> to be correlated with <code>y</code></p></dd>


<dt>y</dt>
<dd><p>a character variable name from the <code>data</code> to be correlated with <code>x</code></p></dd>


<dt>data</dt>
<dd><p>an <code>edsurvey.data.frame</code>, a <code>light.edsurvey.data.frame</code>, or an <code>edsurvey.data.frame.list</code></p></dd>


<dt>method</dt>
<dd><p>a character string indicating which correlation coefficient (or covariance) is to be computed.
One of <code>Pearson</code> (default), <code>Spearman</code>, <code>Polychoric</code>, or <code>Polyserial</code>. For Polyserial, the continuous argument must be <code>x</code>.</p></dd>


<dt>weightVar</dt>
<dd><p>character indicating the weight variable to use. See Details section in <code><a href="lm.sdf.html">lm.sdf</a></code>.</p></dd>


<dt>reorder</dt>
<dd><p>a list of variables to reorder. Defaults to <code>NULL</code> (no variables are reordered). Can be set as
<code>reorder</code> <code>=</code> <code>list(var1</code> <code>=</code> <code>c("a","b","c"),</code> <code>var2</code> <code>=</code> <code>c("4", "3", "2", "1"))</code>. See Examples.</p></dd>


<dt>dropOmittedLevels</dt>
<dd><p>a logical value. When set to the default value of <code>TRUE</code>, drops those levels of all factor variables that are specified
in an <code>edsurvey.data.frame</code>. Use <code>print</code> on an <code>edsurvey.data.frame</code> to see the omitted levels.</p></dd>


<dt>defaultConditions</dt>
<dd><p>a logical value. When set to the default value of <code>TRUE</code>, uses the default conditions stored in an <code>edsurvey.data.frame</code>
to subset the data. Use <code>print</code> on an <code>edsurvey.data.frame</code> to see the default conditions.</p></dd>


<dt>recode</dt>
<dd><p>a list of lists to recode variables. Defaults to <code>NULL</code>. Can be set as
<code>recode</code> <code>=</code> <code>list(var1</code> <code>=</code> <code>list(from</code> <code>=</code> <code>c("a","b","c"), to</code> <code>=</code> <code>"d"))</code>. See Examples.</p></dd>


<dt>condenseLevels</dt>
<dd><p>a logical value. When set to the default value of
<code>TRUE</code> and either <code>x</code> or <code>y</code> is a
categorical variable, the function will drop all unused
levels and rank the levels of the variable before
calculating the correlation. When set to <code>FALSE</code>,
the numeric levels of the variable remain the same as
in the codebook. See Examples.</p></dd>


<dt>fisherZ</dt>
<dd><p>for standard error and mean calculations, set to <code>TRUE</code> to use
the Fisher Z-transformation (see details), or <code>FALSE</code>
to use no transformation of the data. The <code>fisherZ</code> argument defaults
to Fisher Z-transformation for Pearson and no transformation
for other correlation types.</p></dd>


<dt>jrrIMax</dt>
<dd><p>a numeric value; when using the jackknife variance estimation method, the default estimation option, <code>jrrIMax=Inf</code>, uses the
                  sampling variance from all plausible values as the component for sampling variance estimation. The <code>Vjrr</code>
                  term (see
<a href="https://www.air.org/sites/default/files/EdSurvey-Statistics.pdf" class="external-link"><em>Statistical Methods Used in EdSurvey</em></a>)
                  can be estimated with any number of plausible values, and values larger than the number of
                  plausible values on the survey (including <code>Inf</code>) will result in all plausible values being used.
                  Higher values of <code>jrrIMax</code> lead to longer computing times and more accurate variance estimates.</p></dd>


<dt>verbose</dt>
<dd><p>a logical value. Set to <code>FALSE</code> to avoid messages about variable conversion.</p></dd>


<dt>omittedLevels</dt>
<dd><p>this argument is deprecated. Use <code>dropOmittedLevels</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>edsurvey.cor</code> that has print and summary methods.</p>


<p>The class includes the following elements:</p>
<dl><dt>correlation</dt>
<dd><p>numeric estimated correlation coefficient</p></dd>

<dt>Zse</dt>
<dd><p>standard error of the correlation (<code>Vimp</code> + <code>Vjrr</code>). In the case of Pearson, this is calculated in the linear atanh space and is not a standard error in the usual sense.</p></dd>

<dt>correlates</dt>
<dd><p>a vector of length two showing the columns for which the correlation coefficient was calculated</p></dd>

<dt>variables</dt>
<dd><p><code>correlates</code> that are discrete</p></dd>

<dt>order</dt>
<dd><p>a list that shows the order of each variable</p></dd>

<dt>method</dt>
<dd><p>the type of correlation estimated</p></dd>

<dt>Vjrr</dt>
<dd><p>the jackknife component of the variance estimate. For Pearson, in the atanh space.</p></dd>

<dt>Vimp</dt>
<dd><p>the imputation component of the variance estimate. For Pearson, in the atanh space.</p></dd>

<dt>weight</dt>
<dd><p>the weight variable used</p></dd>

<dt>npv</dt>
<dd><p>the number of plausible values used</p></dd>

<dt>njk</dt>
<dd><p>the number of the jackknife replicates used</p></dd>

<dt>n0</dt>
<dd><p>the original number of observations</p></dd>

<dt>nUsed</dt>
<dd><p>the number of observations used in the analysis---after any conditions and any listwise deletion of missings is applied</p></dd>

<dt>se</dt>
<dd><p>the standard error of the correlation, in the correlation ([-1,1]) space</p></dd>

<dt>ZconfidenceInterval</dt>
<dd><p>the confidence interval of the correlation in the transformation space</p></dd>

<dt>confidenceInterval</dt>
<dd><p>the confidence interval of the correlation in the correlation ([-1,1]) space</p></dd>

<dt>transformation</dt>
<dd><p>the name of the transformation used when calculating standard errors</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code><a href="getData.html">getData</a></code> arguments and <code><a href="recode.sdf.html">recode.sdf</a></code> may be useful. (See Examples.)
The correlation methods are calculated as described in the documentation for the <code>wCorr</code> package---see <code>browseVignettes(package="wCorr")</code>.</p>
<p>When <code>method</code> is set to <code>polyserial</code>, all <code>x</code> arguments are assumed to be continuous and all <code>y</code> assumed discrete. Therefore,
be mindful of variable selection as this may result in calculations taking a very long time to complete.</p>
<p>The Fisher Z-transformation is both a variance stabilizing  and normalizing transformation
for the Pearson correlation coefficient (Fisher, 1915).
The transformation takes the inverse hyperbolic tangent of the correlation coefficients and then calculates all variances and confidence intervals.
These are then transformed back to the correlation space (values between -1 and 1, inclusive) using the hyperbolic tangent function.
The Taylor series approximation (or delta method) is applied for the standard errors.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fisher, R. A. (1915). Frequency distribution of the values of the correlation coefficient in samples from an indefinitely large population. <em>Biometrika</em>, <em>10</em>(4), 507--521.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></code> and <code><a href="https://american-institutes-for-research.github.io/wCorr/reference/weightedCorr.html" class="external-link">weightedCorr</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Paul Bailey; relies heavily on the <code>wCorr</code> package, written by Ahmad Emad and Paul Bailey</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># read in the example data (generated, not real student data)</span></span></span>
<span class="r-in"><span><span class="va">sdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="readNAEP.html">readNAEP</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/data"</span>, <span class="st">"M36NT2PM.dat"</span>, package <span class="op">=</span> <span class="st">"NAEPprimer"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for two categorical variables any of the following work</span></span></span>
<span class="r-in"><span><span class="va">c1_pears</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"b017451"</span>, y<span class="op">=</span><span class="st">"b003501"</span>, data<span class="op">=</span><span class="va">sdf</span>, method<span class="op">=</span><span class="st">"Pearson"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">c1_spear</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"b017451"</span>, y<span class="op">=</span><span class="st">"b003501"</span>, data<span class="op">=</span><span class="va">sdf</span>, method<span class="op">=</span><span class="st">"Spearman"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">c1_polyc</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"b017451"</span>, y<span class="op">=</span><span class="st">"b003501"</span>, data<span class="op">=</span><span class="va">sdf</span>, method<span class="op">=</span><span class="st">"Polychoric"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">c1_pears</span></span></span>
<span class="r-in"><span><span class="va">c1_spear</span></span></span>
<span class="r-in"><span><span class="va">c1_polyc</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for categorical variables, users can either keep the original numeric levels of the variables</span></span></span>
<span class="r-in"><span><span class="co"># or condense the levels (default)</span></span></span>
<span class="r-in"><span><span class="co"># the following call condenses the levels of the variable 'c046501'</span></span></span>
<span class="r-in"><span><span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"c046501"</span>, y<span class="op">=</span><span class="st">"c044006"</span>, data<span class="op">=</span><span class="va">sdf</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the following call keeps the original levels of the variable 'c046501'</span></span></span>
<span class="r-in"><span><span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"c046501"</span>, y<span class="op">=</span><span class="st">"c044006"</span>, data<span class="op">=</span><span class="va">sdf</span>, condenseLevels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># these take awhile to calculate for large datasets, so limit to a subset</span></span></span>
<span class="r-in"><span><span class="va">sdf_dnf</span> <span class="op">&lt;-</span> <span class="fu"><a href="subset.html">subset</a></span><span class="op">(</span><span class="va">sdf</span>, <span class="va">b003601</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for a categorical variable and a scale score any of the following work</span></span></span>
<span class="r-in"><span><span class="va">c2_pears</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"composite"</span>, y<span class="op">=</span><span class="st">"b017451"</span>, data<span class="op">=</span><span class="va">sdf_dnf</span>, method<span class="op">=</span><span class="st">"Pearson"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">c2_spear</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"composite"</span>, y<span class="op">=</span><span class="st">"b017451"</span>, data<span class="op">=</span><span class="va">sdf_dnf</span>, method<span class="op">=</span><span class="st">"Spearman"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">c2_polys</span> <span class="op">&lt;-</span> <span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"composite"</span>, y<span class="op">=</span><span class="st">"b017451"</span>, data<span class="op">=</span><span class="va">sdf_dnf</span>, method<span class="op">=</span><span class="st">"Polyserial"</span>,</span></span>
<span class="r-in"><span>                    weightVar<span class="op">=</span><span class="st">"origwt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">c2_pears</span></span></span>
<span class="r-in"><span><span class="va">c2_spear</span></span></span>
<span class="r-in"><span><span class="va">c2_polys</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># recode two variables</span></span></span>
<span class="r-in"><span><span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"c046501"</span>, y<span class="op">=</span><span class="st">"c044006"</span>, data<span class="op">=</span><span class="va">sdf</span>, method<span class="op">=</span><span class="st">"Spearman"</span>, weightVar<span class="op">=</span><span class="st">"origwt"</span>,</span></span>
<span class="r-in"><span>        recode<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>c046501<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"0%"</span>,to<span class="op">=</span><span class="st">"None"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    c046501<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1-5%"</span>, <span class="st">"6-10%"</span>, <span class="st">"11-25%"</span>, <span class="st">"26-50%"</span>,</span></span>
<span class="r-in"><span>                                        <span class="st">"51-75%"</span>, <span class="st">"76-90%"</span>, <span class="st">"Over 90%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 to<span class="op">=</span><span class="st">"Between 0% and 100%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    c044006<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1-5%"</span>, <span class="st">"6-10%"</span>, <span class="st">"11-25%"</span>, <span class="st">"26-50%"</span>,</span></span>
<span class="r-in"><span>                                        <span class="st">"51-75%"</span>, <span class="st">"76-90%"</span>, <span class="st">"Over 90%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                 to<span class="op">=</span><span class="st">"Between 0% and 100%"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># reorder two variables</span></span></span>
<span class="r-in"><span><span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"b017451"</span>, y<span class="op">=</span><span class="st">"sdracem"</span>, data<span class="op">=</span><span class="va">sdf</span>, method<span class="op">=</span><span class="st">"Spearman"</span>, weightVar<span class="op">=</span><span class="st">"origwt"</span>, </span></span>
<span class="r-in"><span>        reorder<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sdracem<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"White"</span>, <span class="st">"Hispanic"</span>, <span class="st">"Black"</span>, <span class="st">"Asian/Pacific Island"</span>,</span></span>
<span class="r-in"><span>                               <span class="st">"Amer Ind/Alaska Natv"</span>, <span class="st">"Other"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     b017451<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Every day"</span>, <span class="st">"2 or 3 times a week"</span>, <span class="st">"About once a week"</span>,</span></span>
<span class="r-in"><span>                               <span class="st">"Once every few weeks"</span>, <span class="st">"Never or hardly ever"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># recode two variables and reorder</span></span></span>
<span class="r-in"><span><span class="fu">cor.sdf</span><span class="op">(</span>x<span class="op">=</span><span class="st">"pared"</span>, y<span class="op">=</span><span class="st">"b013801"</span>, data<span class="op">=</span><span class="fu"><a href="subset.html">subset</a></span><span class="op">(</span><span class="va">sdf</span>, <span class="op">!</span><span class="va">pared</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"I Don\'t Know"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        method<span class="op">=</span><span class="st">"Spearman"</span>, weightVar <span class="op">=</span> <span class="st">"origwt"</span>,</span></span>
<span class="r-in"><span>        recode<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>pared<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"Some ed after H.S."</span>, to<span class="op">=</span><span class="st">"Graduated H.S."</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                    pared<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"Graduated college"</span>, to<span class="op">=</span><span class="st">"Graduated H.S."</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    b013801<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"0-10"</span>, to<span class="op">=</span><span class="st">"Less than 100"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                    b013801<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"11-25"</span>, to<span class="op">=</span><span class="st">"Less than 100"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    b013801<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>from<span class="op">=</span><span class="st">"26-100"</span>, to<span class="op">=</span><span class="st">"Less than 100"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        reorder<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b013801<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Less than 100"</span>, <span class="st">"&gt;100"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Paul Bailey, Ahmad Emad, Huade Huo, Michael Lee, Yuqi Liao, Alex Lishinsku, Trang Nguyen, Qingshu Xie, Jiao Yu, Ting Zhang, Eric Buehler, Sun-joo Lee, Blue Webb.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

